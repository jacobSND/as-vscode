{
  "name": "auctionsoft",
  "displayName": "Auctioneer Software",
  "publisher": "JacobSND",
  "description": "Auctioneer Software",
  "icon": "resources/AS.png",
  "version": "1.8.0",
  "repository": {
    "type": "git",
    "url": "https://github.com/AuctionSoft"
  },
  "engines": {
    "vscode": "^1.103.0"
  },
  "galleryBanner": {
    "color": "#131245",
    "theme": "dark"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension.js",
  "scripts": {
    "install:all": "npm install && cd webview-ui && npm install",
    "start:webview": "cd webview-ui && npm run start",
    "build:webview": "cd webview-ui && npm run build",
    "vscode:prepublish": "npm run package",
    "vscode:publish": "npx @vscode/vsce publish",
    "vscode:package": "npx @vscode/vsce package",
    "compile": "webpack",
    "watch": "webpack --watch",
    "watch-tests": "tsc -p . --watch --outDir out",
    "package": "webpack --mode production --devtool hidden-source-map",
    "compile-tests": "tsc -p . --outDir out",
    "test": "npm run compile-tests && node ./out/test/runTest.js",
    "lint": "eslint src --ext ts --fix",
    "lint-check": "eslint src --ext ts"
  },
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "as2-container",
          "title": "AS2",
          "icon": "resources/AS.svg"
        }
      ]
    },
    "views": {
      "as2-container": [
        {
          "id": "as2-clients",
          "name": "Clients",
          "type": "webview"
        }
      ]
    },
    "chatParticipants": [
      {
        "id": "as",
        "name": "AS",
        "description": "Auctioneer Software clients environments, auctions, and more",
        "isSticky": true,
        "commands": [
          {
            "name": "searchClients",
            "description": "Search Auctioneer Software clients"
          }
        ]
      }
    ],
    "languageModelTools": [
      {
        "name": "search_as_clients",
        "displayName": "Search Auctioneer Software Clients",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "client",
        "icon": "$(search)",
        "tags": [
          "as",
          "clients"
        ],
        "userDescription": "Search Auctioneer Software clients by name, key, cluster, or other attributes",
        "modelDescription": "Search for Auctioneer Software clients by key, name, url, cluster, or IP. Input should be a search query string. Returns a JSON array of clients with fields: key, name, url, cluster, database ip adderess, and local file path. This should be used to get client info and answer questions about AS clients. If no clients match the search criteria, it may return an empty list.",
        "inputSchema": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "description": "The search query string, this should be a singular subject's name, key, url, or cluster"
            }
          },
          "when": "chatParticipant == as"
        }
      },
      {
        "name": "search_as_auctions",
        "displayName": "Search Auctioneer Software Client Auctions",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "auctions",
        "icon": "$(search)",
        "tags": [
          "as",
          "auctions"
        ],
        "userDescription": "Search Auctioneer Software client auctions by title, description, and more",
        "modelDescription": "This tool allows searching through Auctioneer Software client auctions with keyword search and filtering options. It returns a list of matching auctions with their details. Details can include the auction title, description, type, status, start, and end times. This should be used to get auction info and answer questions about AS2 auctions. If no auctions match the search criteria, it may return an empty list.",
        "inputSchema": {
          "type": "object",
          "properties": {
            "client_domain": {
              "type": "string",
              "description": "The domain of the Auctioneer Software client to search auctions on, e.g. https://auctions.example.com"
            },
            "variables": {
              "type": "object",
              "description": "Additional search variables",
              "properties": {
                "search": {
                  "type": "string",
                  "description": "The search query string, this can be any keyword or phrase to search auction titles and descriptions"
                },
                "filter": {
                  "type": "object",
                  "description": "Filter options for the auction search",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Filter by auction status, e.g. 'upcoming', 'live', 'closed'"
                    },
                    "type": {
                      "type": "string",
                      "description": "Filter by auction type, e.g. 'standard', 'dutch', 'sealed-bid'"
                    }
                  }
                },
                "count": {
                  "type": "number",
                  "description": "The number of results to return, default is 10"
                }
              }
            }
          },
          "required": [
            "client_domain"
          ]
        }
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "as2.settings",
          "when": "view == as2-clients",
          "group": "navigation"
        },
        {
          "command": "as2.start",
          "when": "view == as2-clients",
          "group": "menu@1"
        },
        {
          "command": "as2.logs",
          "when": "view == as2-clients",
          "group": "menu@2"
        },
        {
          "command": "as2.coreUpdate",
          "when": "view == as2-clients",
          "group": "menu@3"
        },
        {
          "command": "as2.devInit",
          "when": "view == as2-clients",
          "group": "menu@4"
        }
      ]
    },
    "commands": [
      {
        "command": "as2.settings",
        "title": "Settings",
        "icon": "$(gear)",
        "category": "AS2"
      },
      {
        "command": "as2.start",
        "title": "Start Project (working directory)",
        "icon": "$(play)",
        "category": "AS2"
      },
      {
        "command": "as2.coreUpdate",
        "title": "Core Update (working directory)",
        "icon": "$(sync)",
        "category": "AS2 Custom"
      },
      {
        "command": "as2.devInit",
        "title": "Dev Init (working directory)",
        "icon": "$(rocket)",
        "category": "AS2 Custom"
      },
      {
        "command": "as2.logs",
        "title": "Show Logs",
        "icon": "$(output)",
        "category": "AS2"
      },
      {
        "command": "as2.clients.search",
        "title": "Search",
        "icon": "$(search)",
        "category": "AS2 Clients"
      },
      {
        "command": "as2.showClients",
        "title": "AS2 Clients: Show"
      }
    ],
    "keybindings": [
      {
        "command": "as2.showClients",
        "key": "ctrl+shift+a",
        "mac": "cmd+shift+a"
      }
    ],
    "configuration": [
      {
        "type": "object",
        "title": "Local Repos",
        "properties": {
          "as2.clients.core": {
            "type": "string",
            "description": "Path to local core repo"
          },
          "as2.clients.custom": {
            "type": "string",
            "description": "Path to custom repos directory"
          },
          "as2.clients.cloneMethod": {
            "type": "string",
            "default": "SSH",
            "enum": [
              "HTTPS",
              "SSH",
              "CLI"
            ],
            "enumDescriptions": [
              "HTTPS cloning",
              "SSH cloning (requires SSH key setup)",
              "CLI cloning (requires GH CLI setup)"
            ],
            "description": "Preferred cloning method for repositories"
          }
        }
      },
      {
        "type": "object",
        "title": "Overrides",
        "properties": {
          "as2.clients.overrides": {
            "type": "object",
            "description": "Provide overrides by client key (localPath, cluster, etc)",
            "additionalProperties": true
          }
        }
      },
      {
        "type": "object",
        "title": "Custom Terminal Command",
        "properties": {
          "as2.clients.customTerminalCommand": {
            "type": "string",
            "default": "",
            "description": "Custom terminal command template to run for 'Open Terminal' action. Use {placeholder} variables from the client object."
          }
        }
      },
      {
        "type": "object",
        "title": "Client Actions",
        "properties": {
          "as2.clients.actionsEnabled": {
            "type": "array",
            "description": "Select Enabled Actions for Clients",
            "items": {
              "type": "string",
              "enum": [
                "Copilot Chat",
                "Build & Deploy",
                "Github Repo",
                "Open Project",
                "Github Dev",
                "Connect to DB",
                "Custom Terminal Command"
              ],
              "enumDescriptions": [
                "Start Chatting with AI about this client",
                "Trigger build and/or deploy",
                "Open GitHub repository",
                "Open repo in VS Code",
                "Open repo on gitHub.dev",
                "Connect to database server over SSH",
                "Run a custom command in the terminal using client variables (requires setup)"
              ]
            },
            "uniqueItems": true,
            "default": [
              "Copilot Chat",
              "Build & Deploy",
              "Github Repo",
              "Open Project",
              "Github Dev",
              "Connect to DB"
            ]
          }
        }
      }
    ]
  },
  "dependencies": {
    "@octokit/rest": "^21.0.2",
    "@vscode/codicons": "^0.0.36",
    "@vscode/webview-ui-toolkit": "^1.4.0",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@types/glob": "^8.1.0",
    "@types/lodash": "^4.17.9",
    "@types/mocha": "^10.0.8",
    "@types/node": "20.x",
    "@types/semver": "^7.7.0",
    "@types/vscode": "^1.103.0",
    "@typescript-eslint/eslint-plugin": "^7.18.0",
    "@typescript-eslint/parser": "^7.18.0",
    "@vscode/test-electron": "^2.4.1",
    "@vscode/vsce": "^3.1.1",
    "copy-webpack-plugin": "^12.0.2",
    "eslint": "^8.57.1",
    "glob": "^10.4.5",
    "mocha": "^10.7.3",
    "ts-loader": "^9.5.1",
    "typescript": "^5.6.2",
    "webpack": "^5.95.0",
    "webpack-cli": "^5.1.4"
  }
}
